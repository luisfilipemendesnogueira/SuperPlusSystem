create schema if not exists superplus;
use superplus;

DROP TABLE IF EXISTS exchange_products;
DROP TABLE IF EXISTS redeemable_products;
DROP TABLE IF EXISTS points;
DROP TABLE IF EXISTS purchase_items;
DROP TABLE IF EXISTS products;
DROP TABLE IF EXISTS purchases;
DROP TABLE IF EXISTS customers;

create table customers(
customer_id int not null auto_increment primary key,
first_name varchar(50),
last_name varchar(50),
cpf varchar(11) unique,
phone_number varchar(15),
current_points decimal(10,2)
);

create table purchases(
purchase_id int not null auto_increment primary key,
customer_id int,
purchase_date DATE,
total_amount decimal(10,2),
foreign key (customer_id) references customers(customer_id)
);

create table products(
product_id int not null auto_increment primary key,
name varchar(50),
price decimal(6,2),
units_in_stock int
);
ALTER TABLE products AUTO_INCREMENT = 10250;

create table purchase_items(
purchase_items_id int not null auto_increment primary key,
purchase_id int,
product_id int,
quantity int,
unit_price decimal(6,2),
foreign key (purchase_id) references purchases(purchase_id),
foreign key (product_id) references products(product_id) 
);

create table points(
point_id int not null auto_increment primary key,
customer_id int,
purchase_id int,
accumulated_points decimal(10,2),
foreign key (customer_id) references customers(customer_id),
foreign key (purchase_id) references purchases(purchase_id)
);

create table redeemable_products (
    redeemable_product_id int not null auto_increment primary key,
    name varchar(100) not null,
    points_required decimal(10,2) not null,
    units_in_stock int
);

create table exchange_products (
    exchange_product_id int not null auto_increment primary key,
    redeemable_product_id int,
    customer_id int,
    exchange_date DATE,
    foreign key (customer_id) references customers(customer_id),
	foreign key (redeemable_product_id) references redeemable_products(redeemable_product_id)
);

INSERT INTO customers (first_name, last_name, cpf, phone_number, current_points) VALUES
('Lucas', 'Souza', '74567895271', '11995689452', 2.79),
('Mariana', 'Oliveira', '23456789012', '11976543210', 6.70),
('João', 'Souza', '34567890123', '11965432109', 3.11),
('Ana', 'Pereira', '45678901234', '11954321098', 4.31),
('Pedro', 'Ferreira', '56789012345', '11943210987', 8.29),
('Lucas', 'Almeida', '67890123456', '11932109876', 0.00),
('Fernanda', 'Ribeiro', '78901234567', '11921098765', 4.06),
('Gabriela', 'Costa', '89012345678', '11910987654', 4.45),
('Ricardo', 'Gomes', '90123456789', '11909876543', 13.01),
('Beatriz', 'Martins', '81234567890', '11998765432', 3.91),
('Ana', 'Beatriz', '34187415172', '11996355718', 6.32),
('Carlos', 'Mendes', '11234567890', '11987654321', 6.85),
('Juliana', 'Rodrigues', '22345678901', '11976543219', 3.40),
('Felipe', 'Barbosa', '33456789012', '11965432118', 4.57),
('Camila', 'Lima', '44567890123', '11954321017', 5.57),
('Roberto', 'Teixeira', '55678901234', '11943210916', 3.51),
('Patrícia', 'Cavalcante', '66789012345', '11932109815', 7.57),
('Bruno', 'Dantas', '77890123456', '11921098714', 2.61),
('Larissa', 'Freitas', '88901234567', '11910987613', 2.44),
('Thiago', 'Monteiro', '99012345678', '11909876512', 4.13),
('Vanessa', 'Santos', '10123456789', '11998765411', 6.83),
('Eduardo', 'Nogueira', '21345678900', '11987654310', 5.21),
('Tatiane', 'Moreira', '32456789011', '11976543209', 3.81),
('Gustavo', 'Carvalho', '43567890122', '11965432108', 5.94),
('Isabela', 'Rocha', '54678901233', '11954321007', 9.08),
('Daniel', 'Moura', '65789012344', '11943210906', 0.00),
('Alessandra', 'Azevedo', '76890123455', '11932109805', 0.00),
('Marcelo', 'Sales', '87901234566', '11921098704', 0.00),
('Bianca', 'Tavares', '98012345677', '11910987603', 0.00),
('Rodrigo', 'Vieira', '19123456788', '11909876502', 0.00),
('Helena', 'Campos', '20234567899', '11998765401', 0.00),
('Fábio', 'Xavier', '31345678910', '11987654300', 0.00),
('Renata', 'Castro', '42456789021', '11976543298', 0.00),
('César', 'Batista', '53567890132', '11965432197', 0.00),
('Natália', 'Cardoso', '64678901243', '11954321096', 0.00),
('Leonardo', 'Silveira', '75789012354', '11943210995', 0.00),
('Tatiane', 'Macedo', '86890123465', '11932109894', 0.00),
('Rafael', 'Pinto', '97901234576', '11921098793', 0.00),
('Carolina', 'Araújo', '18123456787', '11910987692', 0.00),
('Fernando', 'Rezende', '29234567898', '11909876591', 0.00),
('Sérgio', 'Meireles', '30345678909', '11998765490', 0.00),
('Alice', 'Borges', '41456789020', '11987654389', 0.00),
('Vitor', 'Assis', '52567890131', '11976543288', 0.00),
('Tatiana', 'Figueiredo', '63678901242', '11965432187', 0.00),
('Diego', 'Neves', '74789012353', '11954321086', 0.00),
('Aline', 'Amaral', '85890123464', '11943210985', 0.00),
('Guilherme', 'Ramos', '96901234575', '11932109884', 0.00),
('Carla', 'Peixoto', '17123456786', '11921098783', 0.00),
('Wagner', 'Braga', '28234567897', '11910987682', 0.00),
('Regina', 'Sá', '39345678908', '11909876581', 0.00);

INSERT INTO purchases (customer_id, purchase_date, total_amount) VALUES
(11, '2022-04-18', 63.20),
(7, '2022-05-14', 40.60),
(19, '2022-06-08', 24.38),
(3, '2022-09-30', 31.10),
(15, '2022-10-12', 55.70),
(23, '2022-11-05', 38.10),
(13, '2023-01-25', 34.00),
(17, '2023-03-21', 75.70),
(1, '2023-06-15', 27.90),
(25, '2023-07-04', 90.80),
(9, '2023-08-27', 130.10),
(5, '2023-11-22', 82.90),
(21, '2023-12-14', 68.30),
(22, '2024-01-29', 52.10),
(2, '2024-02-10', 67.0),
(14, '2024-05-09', 45.70),
(18, '2024-09-10', 26.10),
(10, '2024-12-30', 39.10),
(4, '2025-01-05', 43.10),
(8, '2025-03-02', 94.50),
(20, '2025-04-01', 41.30),
(24, '2025-08-10', 59.40),
(12, '2025-06-20', 68.50),
(16, '2025-07-15', 35.10);

INSERT INTO products (name, price, units_in_stock) VALUES
('Arroz 5kg', 25.90, 50),
('Feijão Preto 1kg', 7.50, 80),
('Açúcar Refinado 1kg', 4.80, 100),
('Sal 1kg', 2.50, 200),
('Óleo de Soja 900ml', 8.90, 150),
('Macarrão Espaguete 500g', 5.40, 90),
('Molho de Tomate 340g', 3.20, 120),
('Farinha de Trigo 1kg', 6.70, 75),
('Leite Integral 1L', 4.99, 200),
('Café em Pó 500g', 15.80, 60),
('Achocolatado 400g', 10.50, 100),
('Margarina 500g', 6.30, 85),
('Queijo Mussarela 500g', 25.50, 40),
('Presunto 500g', 18.90, 50),
('Pão de Forma 500g', 7.20, 90),
('Biscoito Recheado 140g', 3.99, 150),
('Refrigerante Cola 2L', 8.70, 130),
('Suco de Laranja 1L', 6.80, 120),
('Cerveja Lata 350ml', 4.50, 200),
('Água Mineral 500ml', 2.00, 300),
('Detergente Líquido 500ml', 3.80, 100),
('Sabão em Pó 1kg', 12.90, 80),
('Amaciante 2L', 14.50, 70),
('Sabonete 90g', 2.80, 150),
('Shampoo 350ml', 18.90, 60),
('Condicionador 350ml', 19.50, 55),
('Papel Higiênico 12 rolos', 22.80, 90),
('Creme Dental 90g', 5.50, 120),
('Desodorante Aerosol 150ml', 16.90, 50),
('Fralda Descartável G 24un', 42.90, 40),
('Leite em Pó 400g', 17.50, 65),
('Manteiga 200g', 12.90, 50),
('Iogurte Natural 170g', 3.50, 120),
('Carne Bovina 1kg', 42.00, 30),
('Frango Congelado 1kg', 18.90, 60),
('Peixe Tilápia 1kg', 39.80, 25),
('Linguiça Toscana 1kg', 22.70, 50),
('Salsicha 500g', 9.90, 80),
('Batata Inglesa 1kg', 7.80, 100),
('Cebola 1kg', 6.50, 90),
('Alho 200g', 8.90, 50),
('Cenoura 1kg', 5.80, 85),
('Tomate 1kg', 8.20, 75),
('Banana Prata 1kg', 6.30, 95),
('Maçã 1kg', 9.50, 85),
('Laranja 1kg', 5.90, 100),
('Uva 500g', 14.20, 60),
('Manga 1kg', 8.80, 70),
('Pera 1kg', 11.50, 50),
('Abacaxi Unidade', 7.90, 40),
('Melancia Unidade', 22.00, 30),
('Mamão 1kg', 6.90, 45),
('Abacate 1kg', 9.90, 35),
('Pimentão Verde 500g', 4.80, 60),
('Brócolis Unidade', 5.50, 55),
('Alface Crespa Unidade', 3.20, 80),
('Couve Unidade', 4.00, 70),
('Chuchu 1kg', 3.90, 65),
('Abobrinha 1kg', 6.80, 50),
('Berinjela 1kg', 7.30, 55),
('Requeijão 200g', 9.80, 70),
('Ovos 12 unidades', 12.00, 90),
('Cereal Matinal 300g', 11.50, 80),
('Granola 250g', 15.90, 50),
('Mel 500g', 22.90, 40),
('Geleia de Morango 320g', 14.50, 60),
('Chocolate Barra 150g', 8.90, 90),
('Sorvete 2L', 24.50, 50),
('Bolacha Água e Sal 200g', 4.20, 110),
('Pipoca de Microondas 100g', 3.70, 120),
('Amendoim Torrado 500g', 18.50, 45),
('Castanha de Caju 200g', 29.80, 35),
('Nozes 200g', 32.50, 30),
('Leite Condensado 395g', 8.50, 100),
('Creme de Leite 200g', 6.90, 95),
('Fermento Químico 100g', 5.20, 80),
('Gelatina 30g', 2.80, 150),
('Milho Verde 200g', 4.90, 85),
('Ervilha 200g', 4.70, 80),
('Azeitona Verde 200g', 9.50, 70),
('Palmito 300g', 19.90, 40),
('Sardinha em Lata 125g', 7.80, 90),
('Atum Ralado 170g', 12.30, 60),
('Hambúrguer Bovino 500g', 16.90, 50),
('Pizza Congelada 450g', 18.90, 40),
('Lasagna Congelada 600g', 21.90, 30),
('Suco de Uva 1L', 12.80, 55),
('Isotônico 500ml', 6.50, 70),
('Energético 250ml', 9.90, 50),
('Vinho Tinto 750ml', 45.90, 30),
('Whisky 1L', 129.90, 20),
('Chá Verde 1L', 8.50, 60),
('Cerveja Artesanal 500ml', 18.90, 40),
('Suco Detox 1L', 9.80, 50),
('Água de Coco 1L', 7.90, 70),
('Salgadinho de Milho 100g', 4.50, 90),
('Goma de Mascar 10un', 3.90, 110),
('Bala de Goma 150g', 5.60, 80),
('Cacau em Pó 200g', 14.80, 45),
('Garrafa Térmica 1L', 34.90, 25),
('Papel Alumínio 30cm x 7m', 10.50, 40),
('Papel Toalha 2 rolos', 9.80, 50),
('Esponja de Cozinha 4 unidades', 5.50, 60),
('Pano de Chão', 7.90, 45),
('Limpador Multiuso 500ml', 9.20, 55),
('Água Sanitária 2L', 6.80, 70),
('Desinfetante 1L', 8.50, 65),
('Inseticida Aerossol 300ml', 14.90, 40),
('Rodo de Limpeza 40cm', 16.50, 30),
('Vassoura de Nylon', 18.80, 35),
('Sabão Líquido 1L', 15.90, 50),
('Lã de Aço 60g', 3.90, 80),
('Cera para Piso 750ml', 12.90, 25),
('Detergente para Louças 1L', 7.20, 75),
('Tira Manchas 500ml', 19.90, 40),
('Lenço Umedecido 48 unidades', 14.30, 50),
('Creme Hidratante 200ml', 22.50, 35),
('Protetor Solar FPS 50 200ml', 49.90, 30),
('Repelente 100ml', 25.80, 40),
('Pente de Cabelo', 4.50, 60),
('Aparelho de Barbear 2 unidades', 11.90, 55),
('Algodão 50g', 6.70, 70),
('Cotonete 75 unidades', 5.90, 65),
('Fio Dental 50m', 7.30, 50),
('Toalha de Banho', 29.90, 25),
('Pano de Prato 2 unidades', 12.50, 40),
('Travesseiro Antialérgico', 49.90, 30),
('Cobertor Casal', 89.90, 15),
('Sabão em Barra 5 unidades', 9.80, 60),
('Óleo de Coco 500ml', 39.90, 20),
('Azeite de Oliva Extra Virgem 500ml', 32.90, 35),
('Vinagre de Maçã 500ml', 7.90, 45),
('Mostarda 200g', 6.50, 50),
('Ketchup 400g', 7.90, 60),
('Maionese 500g', 10.20, 55),
('Molho Shoyu 150ml', 8.30, 40),
('Pimenta do Reino 50g', 5.90, 70),
('Orégano 30g', 4.20, 80),
('Canela em Pó 50g', 6.70, 50),
('Fermento Biológico Seco 10g', 3.80, 90),
('Água de Coco 1L', 12.50, 40),
('Chá Verde 250ml', 6.90, 50),
('Leite de Coco 200ml', 4.50, 75),
('Coco Ralado 100g', 5.80, 65),
('Farinha de Aveia 500g', 9.90, 50),
('Farinha de Mandioca 1kg', 7.30, 45),
('Tapioca 500g', 8.20, 60),
('Amido de Milho 500g', 6.50, 70),
('Chocolate em Pó 200g', 14.90, 55);

INSERT INTO purchase_items (purchase_id, product_id, quantity, unit_price) VALUES
(1, 10250, 2, 25.90),
(1, 10253, 1, 2.50),
(1, 10254, 1, 8.90),
(2, 10251, 2, 7.50),
(2, 10257, 1, 6.70),
(2, 10263, 1, 18.90),
(3, 10252, 3, 4.80),
(3, 10258, 2, 4.99),
(4, 10260, 1, 10.50),
(4, 10255, 2, 5.40),
(4, 10269, 3, 2.00),
(4, 10270, 1, 3.80),
(5, 10256, 2, 3.20),
(5, 10264, 1, 7.20),
(5, 10266, 2, 8.70),
(5, 10268, 3, 4.50),
(5, 10273, 4, 2.80),
(6, 10261, 2, 6.30),
(6, 10262, 1, 25.50),
(7, 10267, 2, 6.80),
(7, 10268, 2, 4.50),
(7, 10270, 3, 3.80),
(8, 10272, 1, 14.50),
(8, 10274, 1, 18.90),
(8, 10275, 1, 19.50),
(8, 10276, 1, 22.80),
(9, 10277, 2, 5.50),
(9, 10278, 1, 16.90),
(10, 10279, 1, 42.90),
(10, 10280, 2, 17.50),
(10, 10281, 1, 12.90),
(11, 10282, 3, 3.50),
(11, 10283, 1, 42.00),
(11, 10284, 2, 18.90),
(11, 10285, 1, 39.80),
(12, 10286, 2, 22.70),
(12, 10287, 3, 9.90),
(12, 10288, 1, 7.80),
(13, 10289, 2, 6.50),
(13, 10290, 1, 8.90),
(13, 10291, 3, 5.80),
(13, 10292, 2, 8.20),
(13, 10293, 2, 6.30),
(14, 10294, 3, 9.50),
(14, 10295, 4, 5.90),
(15, 10296, 1, 14.20),
(15, 10297, 2, 8.80),
(15, 10298, 1, 11.50),
(15, 10299, 3, 7.90),
(16, 10300, 1, 22.00),
(16, 10301, 2, 6.90),
(16, 10302, 1, 9.90),
(17, 10303, 2, 4.80),
(17, 10304, 3, 5.50),
(18, 10305, 2, 3.20),
(18, 10306, 1, 4.00),
(18, 10307, 2, 3.90),
(18, 10308, 2, 6.80),
(18, 10309, 1, 7.30),
(19, 10310, 2, 9.80),
(19, 10311, 1, 12.00),
(19, 10312, 1, 11.50),
(20, 10313, 1, 15.90),
(20, 10314, 1, 22.90),
(20, 10315, 2, 14.50),
(20, 10316, 3, 8.90),
(21, 10317, 1, 24.50),
(21, 10318, 4, 4.20),
(22, 10319, 3, 3.70),
(22, 10320, 1, 18.50),
(22, 10321, 1, 29.80),
(23, 10322, 1, 32.50),
(23, 10323, 2, 8.50),
(23, 10324, 2, 6.90),
(23, 10325, 1, 5.20),
(24, 10326, 4, 2.80),
(24, 10327, 2, 4.90),
(24, 10328, 3, 4.70);

INSERT INTO points (customer_id, purchase_id, accumulated_points) VALUES
(11, 1, 5.18),
(11, 1, 0.25),
(11, 1, 0.89),
(7, 2, 1.50),
(7, 2, 0.67),
(7, 2, 1.89),
(19, 3, 1.44),
(19, 3, 1.00),
(3, 4, 1.05),
(3, 4, 1.08),
(3, 4, 0.60),
(3, 4, 0.38),
(15, 5, 0.64),
(15, 5, 0.72),
(15, 5, 1.74),
(15, 5, 1.35),
(15, 5, 1.12),
(23, 6, 1.26),
(23, 6, 2.55),
(13, 7, 1.36),
(13, 7, 0.90),
(13, 7, 1.14),
(17, 8, 1.45),
(17, 8, 1.89),
(17, 8, 1.95),
(17, 8, 2.28),
(1, 9, 1.10),
(1, 9, 1.69),
(25, 10, 4.29),
(25, 10, 3.50),
(25, 10, 1.29),
(9, 11, 1.05),
(9, 11, 4.20),
(9, 11, 3.78),
(9, 11, 3.98),
(5, 12, 4.54),
(5, 12, 2.97),
(5, 12, 0.78),
(21, 13, 1.30),
(21, 13, 0.89),
(21, 13, 1.74),
(21, 13, 1.64),
(21, 13, 1.26),
(22, 14, 2.85),
(22, 14, 2.36),
(2, 15, 1.42),
(2, 15, 1.76),
(2, 15, 1.15),
(2, 15, 2.37),
(14, 16, 2.20),
(14, 16, 1.38),
(14, 16, 0.99),
(18, 17, 0.96),
(18, 17, 1.65),
(10, 18, 0.64),
(10, 18, 0.40),
(10, 18, 0.78),
(10, 18, 1.36),
(10, 18, 0.73),
(4, 19, 1.96),
(4, 19, 1.20),
(4, 19, 1.15),
(8, 20, 1.59),
(8, 20, 2.29),
(8, 20, 2.90),
(8, 20, 2.67),
(20, 21, 2.45),
(20, 21, 1.68),
(24, 22, 1.11),
(24, 22, 1.85),
(24, 22, 2.98),
(12, 23, 3.25),
(12, 23, 1.70),
(12, 23, 1.38),
(12, 23, 0.52),
(16, 24, 1.12),
(16, 24, 0.98),
(16, 24, 1.41);

INSERT INTO redeemable_products (name, points_required, units_in_stock) VALUES
('Caneca Personalizada', 7.50, 50),
('Camisa SuperPlus', 25.00, 30),
('Squeeze Térmico', 15.00, 40),
('Fone de Ouvido Bluetooth', 100.00, 20),
('Mochila SuperPlus', 150.00, 25),
('Caixa de Bombons', 10.00, 50),
('Vale-Compras de R$50', 50.00, 100),
('Caderno Executivo', 12.50, 35),
('Caneta de Luxo', 5.00, 50),
('Mouse Sem Fio', 45.00, 30),
('Relógio Digital', 300.00, 15),
('Garrafa Térmica 500ml', 20.00, 40),
('Cafeteira Elétrica', 500.00, 10),
('Smartwatch', 800.00, 8),
('Caixa de Som Bluetooth', 250.00, 20),
('Boné Exclusivo', 17.50, 40),
('Kit Churrasco', 120.00, 15),
('Fritadeira Air Fryer', 700.00, 12),
('Tablet 8 Polegadas', 1200.00, 5),
('Vale-Compras de R$100', 100.00, 80);

INSERT INTO exchange_products (redeemable_product_id, customer_id, exchange_date) VALUES
(9, 8, '2025-03-02');
